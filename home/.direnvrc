# See https://direnv.net/ and direnv(1) for more information.

# Ruby - https://github.com/direnv/direnv/wiki/Ruby

# use_ruby() {
#   local ruby_root=$HOME/.rubies/$1
#   load_prefix "$ruby_root"
#   layout_ruby
# }

# Node - https://github.com/direnv/direnv/wiki/Node
#
# System Setup:
#
#   $ node-install 22 # installs to $HOME/.local/share/node/versions
#
# Activation (in .envrc):
#
#   use node 22
#   layout node # adds node_modules/.bin to PATH
#
# See use_node(), layout_node() in https://github.com/direnv/direnv/blob/master/stdlib.sh

# uv - https://github.com/direnv/direnv/issues/1250#issuecomment-3336516183
#
# Activation (in .envrc):
#
#   layout uv
#   # automatically runs `uv venv` if .venv is missing

layout_uv() {
  if ! has uv; then
    log_error "uv is not installed. Please install it first (see bin/python-install or README.md)."
    return 1
  fi
  [ -d .venv ] || uv venv
  source_env .venv/bin/activate
}
