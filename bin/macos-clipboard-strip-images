#!/usr/bin/env bash

# For removing images from Google docs-generated markdown

if [[ "$OSTYPE" == "darwin"* ]]; then
  pbpaste | grep -v "data:image/png;base64," | pbcopy
elif command -v xclip >/dev/null; then
  xclip -o -selection clipboard | grep -v "data:image/png;base64," | xclip -i -selection clipboard
elif command -v wl-paste >/dev/null && command -v wl-copy >/dev/null; then
  wl-paste | grep -v "data:image/png;base64," | wl-copy
else
  echo "$(basename "$0"): Error: Clipboard tools (pbpaste/pbcopy, xclip, or wl-clipboard) not found." >&2
  exit 1
fi
