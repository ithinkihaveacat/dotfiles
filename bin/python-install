#!/usr/bin/env bash

usage() {
  cat <<EOF
Usage: $(basename "$0")

Install Python using uv.

This script checks for the presence of 'uv' and provides information on how
to use it for Python environment management in this repository.

Options:
  --help      Display this help message and exit

Examples:
  $(basename "$0")
EOF
  exit 0
}

if [[ "$1" == "--help" ]]; then
  usage
fi

if ! command -v uv &>/dev/null; then
  echo "uv is not installed."
  echo ""
  echo "To install uv, run:"
  echo "  curl -LsSf https://astral.sh/uv/install.sh | sh"
  exit 1
fi

echo "uv is installed."
echo ""
cat <<EOF
This repository uses 'uv' for Python environment management.

Please see the 'Environment Management' section in README.md for details:
  https://github.com/ithinkihaveacat/dotfiles#environment-management

Quick tip:
  In your project directory, run:
    echo "layout uv" > .envrc
    direnv allow
EOF
exit 0
